# Production Environment Configuration Template
# Copy this file to .env.production and fill in the actual values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=5000
APP_NAME=AutoControl Pro
APP_VERSION=1.0.0
APP_URL=https://your-domain.com
API_URL=https://api.your-domain.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB Atlas connection string (replace with your actual cluster)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/autocontrol-pro?retryWrites=true&w=majority
MONGODB_DB_NAME=autocontrol-pro

# Database connection pool settings
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Secret (generate a strong random string)
JWT_SECRET=your-super-secure-jwt-secret-key-here-minimum-32-characters
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Session secret for additional security
SESSION_SECRET=your-session-secret-key-here

# Encryption key for sensitive data
ENCRYPTION_KEY=your-32-character-encryption-key

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# =============================================================================
# EMAIL SERVICE CONFIGURATION
# =============================================================================
# SendGrid configuration
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@your-domain.com
SENDGRID_FROM_NAME=AutoControl Pro

# Alternative: SMTP configuration
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-password

# Email templates
EMAIL_VERIFICATION_TEMPLATE_ID=d-your-template-id
PASSWORD_RESET_TEMPLATE_ID=d-your-template-id
WELCOME_EMAIL_TEMPLATE_ID=d-your-template-id

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
# AWS S3 configuration for file uploads
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name

# Alternative: Local file storage
UPLOAD_PATH=/var/uploads
MAX_FILE_SIZE=10485760

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
# Application monitoring
APM_SERVICE_NAME=autocontrol-pro
APM_ENVIRONMENT=production

# Sentry for error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Log level and configuration
LOG_LEVEL=info
LOG_FILE_PATH=/var/log/autocontrol-pro
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Health check configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# General API rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Authentication rate limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Redis configuration for caching and sessions
REDIS_URL=redis://your-redis-host:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# Cache TTL settings
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=3600

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
# SSL certificate paths (if using custom certificates)
SSL_CERT_PATH=/etc/ssl/certs/your-domain.crt
SSL_KEY_PATH=/etc/ssl/private/your-domain.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# Let's Encrypt configuration
LETSENCRYPT_EMAIL=admin@your-domain.com
LETSENCRYPT_DOMAINS=your-domain.com,www.your-domain.com

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
# Payment processing (Stripe)
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_EMAIL_VERIFICATION=true
FEATURE_PASSWORD_RESET=true
FEATURE_USER_INVITATIONS=true
FEATURE_AUDIT_LOGGING=true
FEATURE_RATE_LIMITING=true
FEATURE_FILE_UPLOADS=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Request timeout settings
REQUEST_TIMEOUT=30000
UPLOAD_TIMEOUT=300000

# Compression settings
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6

# Static file caching
STATIC_CACHE_MAX_AGE=31536000

# =============================================================================
# SECURITY HEADERS
# =============================================================================
# Content Security Policy
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline'
CSP_STYLE_SRC='self' 'unsafe-inline'
CSP_IMG_SRC='self' data: https:

# Additional security settings
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true