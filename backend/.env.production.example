# Production Environment Configuration
# Copy this file to .env.production and update with your actual values

# Application
NODE_ENV=production
PORT=3000
APP_NAME="AutoControl Pro"
APP_URL=https://your-domain.com

# Database Configuration
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/autocontrol-pro?retryWrites=true&w=majority
DB_USER=autocontrol-app
DB_PASSWORD=your-secure-database-password
DB_BACKUP_USER=autocontrol-backup
DB_BACKUP_PASSWORD=your-backup-user-password
DB_NAME=autocontrol-pro

# Database Connection Pool Settings
DB_MAX_POOL_SIZE=10
DB_MIN_POOL_SIZE=2
DB_MAX_IDLE_TIME=30000
DB_WAIT_QUEUE_TIMEOUT=10000
DB_SERVER_SELECTION_TIMEOUT=5000
DB_SOCKET_TIMEOUT=45000
DB_CONNECT_TIMEOUT=10000
DB_HEARTBEAT_FREQUENCY=10000

# Security
JWT_SECRET=your-super-secure-jwt-secret-key-minimum-32-characters-long
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# Email Service Configuration (SendGrid example)
EMAIL_SERVICE=sendgrid
EMAIL_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@your-domain.com
EMAIL_FROM_NAME="AutoControl Pro"

# SMTP Configuration (alternative to SendGrid)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-password

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX_REQUESTS=5

# CORS Configuration
CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com
CORS_CREDENTIALS=true

# Monitoring and Analytics
ENABLE_MONITORING=true
ENABLE_ANALYTICS=true

# Database Monitoring Alerts
DB_ALERTS_EMAIL_ENABLED=true
DB_ALERTS_EMAIL_RECIPIENTS=admin@your-domain.com,ops@your-domain.com
DB_ALERTS_WEBHOOK_ENABLED=false
DB_ALERTS_WEBHOOK_URL=https://your-webhook-url.com/alerts

# Backup Configuration
BACKUP_LOCAL_PATH=/var/backups/autocontrol
BACKUP_S3_ENABLED=true
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# Backup Notifications
BACKUP_EMAIL_NOTIFICATIONS=true
BACKUP_EMAIL_RECIPIENTS=admin@your-domain.com
BACKUP_WEBHOOK_ENABLED=false
BACKUP_WEBHOOK_URL=https://your-webhook-url.com/backup

# MongoDB Atlas Configuration
ATLAS_CLUSTER_NAME=autocontrol-pro-cluster
ATLAS_REGION=us-east-1
ATLAS_TIER=M10
ATLAS_DISK_SIZE=10
ATLAS_ALLOWED_IPS=your-server-ip/32
ATLAS_VPC_PEERING=false

# SSL and Security
SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem
TRUST_PROXY=true
SECURE_COOKIES=true
SESSION_SECURE=true

# Logging
LOG_LEVEL=info
LOG_FILE=/var/log/autocontrol/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/var/uploads/autocontrol

# Session Configuration
SESSION_SECRET=your-session-secret-key
SESSION_MAX_AGE=86400000

# Redis Configuration (if using Redis for sessions/caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/api/monitoring/health

# Performance Monitoring
APM_ENABLED=true
APM_SERVICE_NAME=autocontrol-pro
APM_ENVIRONMENT=production

# Feature Flags
FEATURE_ANALYTICS=true
FEATURE_MONITORING=true
FEATURE_BACKUPS=true
FEATURE_EMAIL_VERIFICATION=true

# Third-party Integrations
WEBHOOK_SECRET=your-webhook-secret
API_RATE_LIMIT_BYPASS_TOKEN=your-bypass-token

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."

# Timezone
TZ=UTC

# Process Management (PM2)
PM2_INSTANCES=max
PM2_MAX_MEMORY_RESTART=1G
PM2_NODE_ARGS=--max-old-space-size=1024

# Docker Configuration
DOCKER_NETWORK=autocontrol-network
DOCKER_VOLUME_DATA=/var/lib/autocontrol
DOCKER_VOLUME_LOGS=/var/log/autocontrol

# Load Balancer Configuration
LOAD_BALANCER_ENABLED=false
LOAD_BALANCER_HEALTH_CHECK=/api/monitoring/health
LOAD_BALANCER_TIMEOUT=30000

# CDN Configuration
CDN_ENABLED=false
CDN_URL=https://cdn.your-domain.com
STATIC_ASSETS_URL=https://cdn.your-domain.com/static

# Analytics and Tracking
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token
SEGMENT_WRITE_KEY=your-segment-key

# Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
BUGSNAG_API_KEY=your-bugsnag-api-key

# Performance Monitoring
NEW_RELIC_LICENSE_KEY=your-newrelic-license-key
DATADOG_API_KEY=your-datadog-api-key

# Compliance and Security
GDPR_COMPLIANCE=true
HIPAA_COMPLIANCE=false
SOC2_COMPLIANCE=true
DATA_RETENTION_DAYS=2555  # 7 years
AUDIT_LOG_RETENTION_DAYS=2555

# Backup Retention Policy
BACKUP_RETENTION_DAILY=7
BACKUP_RETENTION_WEEKLY=4
BACKUP_RETENTION_MONTHLY=12
BACKUP_RETENTION_YEARLY=3

# Database Optimization
DB_QUERY_TIMEOUT=30000
DB_SLOW_QUERY_THRESHOLD=1000
DB_CONNECTION_TIMEOUT=10000
DB_REPLICA_SET_NAME=your-replica-set

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=100mb
CACHE_PROVIDER=memory  # memory, redis, memcached

# Queue Configuration (if using job queues)
QUEUE_PROVIDER=memory  # memory, redis, sqs
QUEUE_CONCURRENCY=5
QUEUE_RETRY_ATTEMPTS=3
QUEUE_RETRY_DELAY=5000

# Notification Configuration
PUSH_NOTIFICATIONS_ENABLED=false
PUSH_NOTIFICATION_KEY=your-push-key
SMS_PROVIDER=twilio
SMS_ACCOUNT_SID=your-twilio-sid
SMS_AUTH_TOKEN=your-twilio-token

# API Versioning
API_VERSION=v1
API_DEPRECATION_WARNINGS=true
API_LEGACY_SUPPORT=true

# Development and Testing
DEBUG_MODE=false
VERBOSE_LOGGING=false
PROFILING_ENABLED=false
BENCHMARK_ENABLED=false